<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Cross-Compiling Android Linux Kernel" /><meta name="author" content="Saalim Quadri" /><meta property="og:locale" content="en" /><meta name="description" content="When you use your Android device, you’re interacting with a complex system that relies heavily on the Linux kernel at its core. But what exactly is the Android Linux kernel, and how does it work?" /><meta property="og:description" content="When you use your Android device, you’re interacting with a complex system that relies heavily on the Linux kernel at its core. But what exactly is the Android Linux kernel, and how does it work?" /><link rel="canonical" href="https://danascape.github.io/posts/Cross-Compiling-Android-Linux-Kernel/" /><meta property="og:url" content="https://danascape.github.io/posts/Cross-Compiling-Android-Linux-Kernel/" /><meta property="og:site_name" content="squadri" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-07-24T00:00:00+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Cross-Compiling Android Linux Kernel" /><meta name="twitter:site" content="@danascape" /><meta name="twitter:creator" content="@danascape" /><meta name="google-site-verification" content="G-WDDV94BTDD" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Saalim Quadri","url":"https://x.com/danascape"},"dateModified":"2024-07-24T00:00:00+05:30","datePublished":"2024-07-24T00:00:00+05:30","description":"When you use your Android device, you’re interacting with a complex system that relies heavily on the Linux kernel at its core. But what exactly is the Android Linux kernel, and how does it work?","headline":"Cross-Compiling Android Linux Kernel","mainEntityOfPage":{"@type":"WebPage","@id":"https://danascape.github.io/posts/Cross-Compiling-Android-Linux-Kernel/"},"url":"https://danascape.github.io/posts/Cross-Compiling-Android-Linux-Kernel/"}</script><title>Cross-Compiling Android Linux Kernel | squadri</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="squadri"><meta name="application-name" content="squadri"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-WDDV94BTDD"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-WDDV94BTDD'); }); </script> <script src="/assets/js/pwa-popup.js" defer></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/my-avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">squadri</a><p class="site-subtitle fst-italic mb-0">Kernels and AOSP.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/danascape" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/danascape" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['saalim.priv','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Cross-Compiling Android Linux Kernel</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Cross-Compiling Android Linux Kernel</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1721759400" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 24, 2024 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://x.com/danascape">Saalim Quadri</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="729 words" > <em>4 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Cross-Compiling Android Linux Kernel</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Cross-Compiling Android Linux Kernel</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><p>When you use your Android device, you’re interacting with a complex system that relies heavily on the Linux kernel at its core. But what exactly is the Android Linux kernel, and how does it work?</p><p><a href="/assets/images/posts/Cross-Compiling-Android-Linux-Kernel/cc_lk_intro.png" class="popup img-link shimmer"><img src="/assets/images/posts/Cross-Compiling-Android-Linux-Kernel/cc_lk_intro.png" alt="" loading="lazy"></a></p><h2 id="what-is-linux-kernel"><span class="me-2">What is Linux Kernel?</span><a href="#what-is-linux-kernel" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The Linux kernel is the core component of the Linux operating system, responsible for managing hardware resources (such as the CPU, memory, and devices), providing essential services to software applications, and ensuring secure and efficient operation of the entire system.</p><h2 id="what-is-the-android-linux-kernel"><span class="me-2">What is the Android Linux Kernel?</span><a href="#what-is-the-android-linux-kernel" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The Android Linux kernel is a version of the Linux kernel, based on Long Term Stable (LTS). At Google, LTS kernels are combined with Android-specific patches to form what are known as Android Common Kernels (ACKs).</p><p>For the tutorial, I’m using Ubuntu 22.04 running inside a 8 Core, 16GB RAM machine. However, the steps should be the same independent of whether you’re using a virtual machine, running a different version of Linux, etc.</p><h2 id="prerequisites"><span class="me-2">Prerequisites</span><a href="#prerequisites" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Certain requirements are to be met before compiling the Linux Kernel.</p><ul><li>Ability to understand basic editing/writing of files and text, familiarity with the linux command line interface and some basic git knowledge.</ul><h2 id="establishing-a-build-environment"><span class="me-2">Establishing a Build Environment</span><a href="#establishing-a-build-environment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>To build the Kernel, a Linux build machine is recommended, with some minimal specifications as long as it can configure make.</p><p>To setup the Linux build environment , you can directly run this command on your linux machine with elevated permissions:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl https://raw.githubusercontent.com/akhilnarang/scripts/master/setup/android_build_env.sh | <span class="nb">sudo </span>sh
</pre></table></code></div></div><h3 id="1-set-up-the-cross-compiling-toolchain"><span class="me-2">1. Set up the cross-compiling toolchain</span><a href="#1-set-up-the-cross-compiling-toolchain" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In order to compile source code into machine code that is not native to the build machine, a cross-compiler has to be used.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git clone <span class="nt">--depth</span><span class="o">=</span>1 <span class="nt">-b</span> 11.x https://gitlab.com/stormbreaker-project/google-clang clang-11
<span class="nv">$ </span>git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/stormbreaker-project/aarch64-linux-android-4.9 gcc64
<span class="nv">$ </span>git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/stormbreaker-project/arm-linux-androideabi-4.9 gcc32
<span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$PWD</span>/clang-11/bin:<span class="nv">$PWD</span>/gcc64/bin:<span class="nv">$PWD</span>/gcc32/bin
</pre></table></code></div></div><h3 id="2-download-the-source-code"><span class="me-2">2. Download the Source Code</span><a href="#2-download-the-source-code" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>We are going to pickup a source that is already being worked on, you can take sources from ODM pages of various android devices that are launched.</p><ul><li>Google: https://android.googlesource.com/kernel/msm/+refs<li>Xiaomi: https://github.com/MiCode/Xiaomi_Kernel_OpenSource<li>OnePlus: https://github.com/oneplusoss<li>Nothing: https://github.com/nothingoss<li>Realme: https://github.com/realme-kernel-opensource<li>Samsung: https://opensource.samsung.com/main</ul><p>So after hovering around, download your favorite source code in a directory</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git clone https://github.com/stormbreaker-project/linux-oneplus-billie
</pre></table></code></div></div><p>We generally do not require the commit history, so to speed up the process, use the <code class="language-plaintext highlighter-rouge">--depth</code> argument to only clone the most recent version of all the files:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/stormbreaker-project/linux-oneplus-billie
</pre></table></code></div></div><p>This can take a few minutes.</p><h3 id="3-configure-the-build"><span class="me-2">3. Configure the Build</span><a href="#3-configure-the-build" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Next, we need to configure the kernel build. The easiest option is to just build with the default configuration</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">cd </span>linux-oneplus-billie
make <span class="nv">O</span><span class="o">=</span>out <span class="nv">ARCH</span><span class="o">=</span>arm64 vendor/billie-perf_defconfig
</pre></table></code></div></div><p>Alternatively, we can also copy the configuration from an existing build.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>adb pull /proc/config.gz
<span class="nv">$ </span><span class="nb">gunzip</span> <span class="nt">-c</span> config.gz <span class="o">&gt;</span> out/.config
</pre></table></code></div></div><p>This will use adb to establish a connection with the device and copy the configuration from the default location at <code class="language-plaintext highlighter-rouge">/proc/config.gz</code>. This is a virtual location provided by a kernel module.</p><h3 id="4-build-the-kernel"><span class="me-2">4. Build the Kernel</span><a href="#4-build-the-kernel" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Now that everything is configured, we can start the build process. Run the following command to build the kernel image. Modify the <code class="language-plaintext highlighter-rouge">-j</code> parameter to approximately correspond with the number of CPU cores your host machine has. Higher values will lead to fast build times.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>make <span class="nt">-j14</span> <span class="nv">O</span><span class="o">=</span>out <span class="nv">ARCH</span><span class="o">=</span>arm64 <span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-linux-android- <span class="nv">CROSS_COMPILE_ARM32</span><span class="o">=</span>arm-linux-androideabi- <span class="nv">CC</span><span class="o">=</span>clang <span class="nv">CLANG_TRIPLE</span><span class="o">=</span>aarch64-linux-gnu- 
</pre></table></code></div></div><p>The build machine will now take a while to compile the kernel. This might vary as per machine configuration, it took me about 10-15 minutes until the build was finished.</p><h3 id="5-booting-the-kernel"><span class="me-2">5. Booting the Kernel</span><a href="#5-booting-the-kernel" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>All that’s left now is to flash the kernel Image. There are various methods to install a kernel image on android devices.</p><ul><li>AnyKernel3: https://github.com/osm0sis/AnyKernel3<li>Android mkboot: https://android.googlesource.com/platform/system/tools/mkbootimg/<li>Live Boot Here we will use LiveBoot, since the other methods requires many more device-side features, so let’s keep that aside. To Live Boot the Kernel image, reboot your device to bootloader.<div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>fastboot boot out/arch/arm64/boot/Image.gz
</pre></table></code></div></div><p>The device will reboot automatically, and run the freshly installed kernel.</p></ul><h3 id="note"><span class="me-2">Note:</span><a href="#note" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Flash methods vary for each device and manufacturer, so I used a generic method in the process which <strong>MIGHT NOT</strong> work for some devices.<li>For AnyKernel3 to work, one needs to make device specific recovery changes, like defining boot partition path and device spec name, for it to work.<li>Not all Flash methods are mentioned here. Refer to your ODM guides on how to install the kernel image.</ul><p>Let me know your new experiences at <a href="mail:danascape@gmail.com">my email</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/linux-kernel/">Linux Kernel</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/linux/" class="post-tag no-text-decoration" >Linux</a> <a href="/tags/kernel/" class="post-tag no-text-decoration" >Kernel</a> <a href="/tags/linux-kernel/" class="post-tag no-text-decoration" >Linux Kernel</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Cross-Compiling%20Android%20Linux%20Kernel%20-%20squadri&url=https%3A%2F%2Fdanascape.github.io%2Fposts%2FCross-Compiling-Android-Linux-Kernel%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Cross-Compiling%20Android%20Linux%20Kernel%20-%20squadri&u=https%3A%2F%2Fdanascape.github.io%2Fposts%2FCross-Compiling-Android-Linux-Kernel%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fdanascape.github.io%2Fposts%2FCross-Compiling-Android-Linux-Kernel%2F&text=Cross-Compiling%20Android%20Linux%20Kernel%20-%20squadri" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/GSoC-2025-Journey/">GSoC 2025 - Journey</a><li class="text-truncate lh-lg"> <a href="/posts/GSoC-2025-week6/">GSoC 2025 - Week 6 - Final Build Patchset</a><li class="text-truncate lh-lg"> <a href="/posts/GSoC-2025-week7-8-9-10/">GSoC 2025 - Week 7,8,9,10 - Unexpected Hardware Issue</a><li class="text-truncate lh-lg"> <a href="/posts/GSoC-2025-week5/">GSoC 2025 - Week 5 - Testing the patchset</a><li class="text-truncate lh-lg"> <a href="/posts/GSoC-2025-week3/">GSoC 2025 - Week 3 - Starting to Code</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/lfx/">LFX</a> <a class="post-tag btn btn-outline-primary" href="/tags/agl/">AGL</a> <a class="post-tag btn btn-outline-primary" href="/tags/gsoc/">GSoC</a> <a class="post-tag btn btn-outline-primary" href="/tags/lf/">LF</a> <a class="post-tag btn btn-outline-primary" href="/tags/raspberrypi/">RaspberryPI</a> <a class="post-tag btn btn-outline-primary" href="/tags/yocto/">Yocto</a> <a class="post-tag btn btn-outline-primary" href="/tags/android/">Android</a> <a class="post-tag btn btn-outline-primary" href="/tags/aosp/">AOSP</a> <a class="post-tag btn btn-outline-primary" href="/tags/kernel/">Kernel</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux-kernel/">Linux Kernel</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/Using-AOSP-Kernel-Build/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1723573800" data-df="ll" > Aug 14, 2024 </time><h4 class="pt-0 my-2">Using AOSP Kernel Build</h4><div class="text-muted"><p>In my previous blog, we talked about how to cross-compile Android Kernel, but there is another official way that ODMs use to compile their kernel sources, via AOSP Kernel Build. ![](/assets/images...</p></div></div></a></article><article class="col"> <a href="/posts/LFX-Mentorship-for-Linux-Kernel-Bug-Fixing/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1690396200" data-df="ll" > Jul 27, 2023 </time><h4 class="pt-0 my-2">LFX Mentorship for Linux Kernel Bug Fixing</h4><div class="text-muted"><p>Learn more about the Linux Foundation Mentorship programme, and hear from someone who went through the process. What is LFX mentorship? “The Linux Foundation Mentorship Program is designed to he...</p></div></div></a></article><article class="col"> <a href="/posts/Writing-an-Overlayed-DTS/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1632162600" data-df="ll" > Sep 21, 2021 </time><h4 class="pt-0 my-2">Writing an Overlayed DTS</h4><div class="text-muted"><p>Overlayed device trees are written in order to avoid changing the base device tree structures already present in the kernel source, and just get them overridden during compilation. Learn how to cre...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/LFX-Mentorship-for-Linux-Kernel-Bug-Fixing/" class="btn btn-outline-primary" aria-label="Older" ><p>LFX Mentorship for Linux Kernel Bug Fixing</p></a> <a href="/posts/Using-AOSP-Kernel-Build/" class="btn btn-outline-primary" aria-label="Newer" ><p>Using AOSP Kernel Build</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://x.com/danascape">Saalim Quadri</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/lfx/">LFX</a> <a class="post-tag btn btn-outline-primary" href="/tags/agl/">AGL</a> <a class="post-tag btn btn-outline-primary" href="/tags/gsoc/">GSoC</a> <a class="post-tag btn btn-outline-primary" href="/tags/lf/">LF</a> <a class="post-tag btn btn-outline-primary" href="/tags/raspberrypi/">RaspberryPI</a> <a class="post-tag btn btn-outline-primary" href="/tags/yocto/">Yocto</a> <a class="post-tag btn btn-outline-primary" href="/tags/android/">Android</a> <a class="post-tag btn btn-outline-primary" href="/tags/aosp/">AOSP</a> <a class="post-tag btn btn-outline-primary" href="/tags/kernel/">Kernel</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux-kernel/">Linux Kernel</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> var disqus_config = function () { this.page.url = 'https://danascape.github.io/posts/Cross-Compiling-Android-Linux-Kernel/'; this.page.identifier = '/posts/Cross-Compiling-Android-Linux-Kernel/'; }; function addDisqus() { let disqusThread = document.createElement('div'); let paragraph = document.createElement('p'); disqusThread.id = 'disqus_thread'; paragraph.className = 'text-center text-muted small'; paragraph.innerHTML = 'Comments powered by <a href="https://disqus.com/">Disqus</a>.'; disqusThread.appendChild(paragraph); const footer = document.querySelector('footer'); footer.insertAdjacentElement("beforebegin", disqusThread); }function reloadDisqus(event) { if (event.source === window && event.data && event.data.id === Theme.ID) {if (typeof DISQUS === 'undefined') { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } } addDisqus(); if (Theme.switchable) { addEventListener('message', reloadDisqus); }var disqusObserver = new IntersectionObserver( function (entries) { if (entries[0].isIntersecting) { var d = document, s = d.createElement('script'); s.src = 'https://squadri.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); disqusObserver.disconnect(); } }, { threshold: [0] } ); disqusObserver.observe(document.getElementById('disqus_thread')); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
