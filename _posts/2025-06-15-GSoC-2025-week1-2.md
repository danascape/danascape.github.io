---
layout: post
title: "GSoC 2025 - Week 1,2 - Setting up Build"
date: 2025-06-15 00:00:00 +0530
categories: [GSoC]
tags: [Yocto, AGL, RaspberryPI, GSoC, LFX, LF]
description: "Firing up a powerful PC to compile Yocto ;)"
author: danascape
toc: true
---

## Environment Setup
Apparently, my background on working with [Android Open Source Project][aosp] and the [Linux Kernel][kernel] helped a lot, since I already had worked with bigger sources, so surfing and downloading sources became easier in my scenario :), can be different for others.

I had procured myself a powerful PC to compile the above 2, since AOSP takes longer than 2 hours, I was already patient in these type of scenarios.

## Technical Environment Setup

### Development System Specifications

My primary development environment:
* **Hardware**: Ryzen 7 7700X, 32GB RAM, 4TB SSD
* **Primary OS**: Ubuntu LTS 22.04
* **Secondary OS**: Windows 11

### AGL and meta-ros version Selection
After extensive discussion with my mentors, we decided on:
* **AGL Release**: Super Salmon (latest stable at project start)
* **meta-ros Layer**: Scarthgap branch (compatible with AGL's OE version)
* **Target ROS Distribution**: ROS2 Humble

This combination provides the best balance of stability and feature completeness for automotive applications.

### Building Initial Images

Setting up the build environment was more complex than I anticipitated:

* **AGL Setup**
```bash
mkdir agl-gsoc && cd agl-gsoc
repo init -u https://gerrit.automotivelinux.org/gerrit/AGL/AGL-repo
repo sync
```
```bash
source meta-agl/scripts/aglsetup.sh -f -m raspberrypi4 -b raspberrypi4 agl-flutter agl-devel agl-demo
bitbake agl-ivi-demo-flutter
```
You can hop over [here][agl-deps] for dependencies.

* **ROS Layer build**
```bash
mkdir ros-gsoc && cd ros-gsoc
git clone -b build https://github.com/ros/meta-ros
mkdir ros-out
KAS_WORK_DIR=ros-out
kas build meta-ros/kas/oeros-kirkstone-humble-raspberrypi4-64.yml
```
You can visit [kas README][ros-deps] for more instructions.

I opted to build them standalone at first on my machine, which took lot longer than I anticipated, I had a lot of dependencies installed prior to these, which resulted in me running into a lot of errors, which sounded weird even to my mentors, most of my Android [cuttlefish][cuttlefish] dependencies conflicted, and gave me errors

[aosp]: https://source.android.com/
[kernel]: https://kernel.org/
[agl-deps]: https://docs.automotivelinux.org/en/salmon/#01_Getting_Started/02_Building_AGL_Image/02_Preparing_Your_Build_Host/
[ros-deps]: https://github.com/ros/meta-ros/blob/build/kas/README.md
[cuttlefish]: https://source.android.com/docs/devices/cuttlefish